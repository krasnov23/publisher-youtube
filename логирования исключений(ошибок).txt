1. composer require symfony/monolog-bundle - для того чтобы выдавало дополнительные параметры логирования во время исключения ( Видео 7).
2. config/packages/monolog.yaml - исправляем конфигурацию.
3. поднимаем базу в докер, делаем миграции, грузим фикстуры, запускаем сервер. (Логи будут видны в терминале)
4. Устанавливаем фавикон чтобы он нам больше не мешал. (php -r "copy('https://symfony.com/favicon.ico','public/favicon.ico');" ) -
вводим в консоль
5. Для того чтобы в ответ на нашу ошибку наши логи выдавались нам не только в консоле, но и в самом ответе
-> services.yaml -> _defaults -> добавляем ключик bind далее смотреть в services.yaml.
6. После объявления переменной debug заходим в наш ApiExceptionListener - и добавляем переменную дебаг из сервис.ямл в
наш метод констракт
7. Как мы будем ее применять? добавили новый параметр details в ErrorResponse.
8. Добавили переменную в ApiExceptionListener $details отвечающую за дебаг. После этого при появлении нашей ошибки при открытии
страницы с ошибкой будет открыт trace
9. Для того чтобы режим дебага пропал нужно указать в .env.local export APP_ENV=prod (продакшен и трейс/дебаг пропадает)