5 ролик на ютубе (30ая минута)

1. Вносим еще один образ в docker-compose.yml ( запускаем), изменяем порты в .env.test под порты тестовой базы
2. Создаем абстракт класс для тестирования репозиториев (AbstractRepositoryTest), с методами сетап и тирдаун
3. Создали BookRepositoryTest который наследует абстрактный класс AbstractRepositoryTest
4. Устанавливаем следующий пакет composer require --dev dama/doctrine-test-bundle (-y)
( пакет позволяет производить обновления в базе данных внутри миграции, но после теста он ее откатывает, это
позволяет нам не засирать базу данных. (https://github.com/dmaicher/doctrine-test-bundle)
- добавляем строчки в phpunit.xml.dist указанные в ссылке выше.
5. php bin/console doctrine:migrations:migrate --env=test - c помощью миграции создает тестовую базу
6. После этого можно спокойно запускать тест репозитория (точнее какого-то из его методов)

Тестирование Контроллеров:
1. Видео 5 (51:40) Мы хотим сравнивать ответ из контроллера со схемой. Для того чтобы мы могли это делать
мы подключаем composer require --dev helmich/phpunit-json-assert. Чтобы в наших тестах появилась возможность сравнивать ответ
со схемой нам необходимо добавить методы из трейта который мы установили командой выше. Импортирует трейт в абстрактный класс для
контроллеров. Вся остальная логика прописана в самих тестах контроллера
